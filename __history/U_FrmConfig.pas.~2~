unit U_FrmConfig;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  Dialogs, StdCtrls, Buttons, IniFiles;

type
  TFrmConfig = class(TForm)
    BtnFechar: TBitBtn;
    BitBtn1: TBitBtn;
    GroupBox1: TGroupBox;
    LabelDBHost: TLabel;
    EditDBHost: TEdit;
    LabelDBName: TLabel;
    EditDBName: TEdit;
    Label1: TLabel;
    EditDBPort: TEdit;
    LabelDBUsername: TLabel;
    EditDBUsername: TEdit;
    EditDBPassword: TEdit;
    LabelDBPassword: TLabel;
    GroupBox2: TGroupBox;
    LabelFtpHost: TLabel;
    LabelFtpDest: TLabel;
    LabelFtpPort: TLabel;
    LabelFtpUser: TLabel;
    LabelFtpPass: TLabel;
    EditFTPHost: TEdit;
    EditFTPDest: TEdit;
    EditFtpPort: TEdit;
    EditFtpUser: TEdit;
    EditFtpPass: TEdit;
    procedure FormShow(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  FrmConfig: TFrmConfig;

implementation

{$R *.dfm}

procedure TFrmConfig.FormShow(Sender: TObject);
var iniFile : TIniFile;
begin
  IniFile := TIniFile.Create(ChangeFileExt(Application.ExeName, '.ini'));
  try
    // Nome do Servidor onde se encontra a Base de Dados Postgres
    EditDBHost.Text := iniFile.ReadString('BD', 'Host', '10.1.1.10');;
    // Nome da base de Dados que a aplicação utilizará
    EditDBName.Text := iniFile.ReadString('BD', 'Banco', 'dbads');
    // Porta de conexão ao banco de Dados
    EditDBPort.Text := iniFile.ReadInteger('BD', 'Porta', 5432);
    // Nome de usuario para conexão ao BD
    EditDBUsername.Text := iniFile.ReadString('BD', 'Usuario', 'ads');
    // Senha de acesso ao Bando de Dados
    EditDBPassword.Text := iniFile.ReadString('BD', 'Senha', 'ads!.!');

    // ###### FTP
    // Nome/IP do Servidor de destino dos arquivos
    EditFTPHost.Text := iniFile.ReadString('FTPCORREIOS', 'Host', '10.1.1.10');
    // Porta de conexão ao FTP
    EditFtpPort.Text := iniFile.ReadInteger('FTPCORREIOS', 'Porta', 21);
    // Nome de usuario
    EditFtpUser.Text := iniFile.ReadString('FTPCORREIOS', 'Usuario', 'joe');
    // Senha de acesso
    EditFtpPass.Text := iniFile.ReadString('FTPCORREIOS', 'Senha', 'doe');
  finally
    iniFile.Free;
  end;

end;

end.
